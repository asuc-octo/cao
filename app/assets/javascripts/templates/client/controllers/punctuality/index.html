<div ng-init="actionIndex()">
    <h2 translate="Punctuality"></h2>
    <div class="list-group">
      <a class="list-group-item" ng-repeat="user in users" ng-click="formatDates(user); showTable = !showTable">
        <h4 class="list-group-item-heading">{{user.role}} {{user.name}}</h4>
        <p class="list-group-item-text">Click to view punctuality</p>
        <table class="table table-striped table-hover " ng-show="showTable">
            <thead>
                <tr>
                    <th class="col-md-3">Report Date</th>
                    <th class="col-md-3">Punctuality</th>
                    <th class="col-md-3">Stipend Reduction</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="due_date in user.due_dates | orderBy: 'deadline'" ng-class="getColor(due_date)">
                    <th class="col-md-3" ng-bind="formatDate(due_date)"></th>
                    <th class="col-md-3" ng-bind="getPunctuality(due_date)"></th>
                    <th class="col-md-3">{{ due_date.stipend_reduction }}</th>
                </tr>
            </tbody>
        </table>
      </a>
    </div>
</div>
